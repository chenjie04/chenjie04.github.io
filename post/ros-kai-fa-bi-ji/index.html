<!DOCTYPE html>
<html>
<head>
<link rel="shortcut icon" href="https://chenjie04.github.io/favicon.ico" type="image/x-icon" /><meta name="viewport"content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"/><meta name="apple-mobile-web-app-capable"content="yes"/><meta name="apple-mobile-web-app-status-bar-style"content="black"/><meta name="format-detection"content="telephone=no"/><meta name="renderer"content="webkit"><meta name="description"content="æ¸©æ•…è€ŒçŸ¥æ–°"><meta charset="UTF-8"><title>ROS2å¼€å‘ç¬”è®°â€”â€”Topicæ ·ä¾‹ï¼ˆäºŒï¼‰ | chenjie04&#39;s blog</title>
<link href="https://chenjie04.github.io/styles/main.css" type="text/css" rel="stylesheet" /><link href="https://at.alicdn.com/t/font_1621793_zatzzgvf30g.css" type="text/css" rel="stylesheet" /><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.css"><script async src="https://cdn.jsdelivr.net/npm/busuanzi@2.3.0/bsz.pure.mini.min.js"></script><script src="https://chenjie04.github.io/media/js/magnify.min.js"></script><script defer src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js"></script>
<script type="text/javascript">function btn_toggle(){document.getElementById("hn").classList.contains("no-js")?document.getElementById("hn").classList.remove("no-js"):document.getElementById("hn").classList.add("no-js")}</script>

<link rel="canonical" href="https://chenjie04.github.io/post/ros-kai-fa-bi-ji/" />
</head>
<body>
<div class="progress"></div><style>.progress{background:linear-gradient(to right,#87ceeb var(--scroll),transparent 0);background-repeat:no-repeat;position:fixed;width:100%;height:4px;z-index:1}</style><div class="darkmode-background"></div><div class="darkmode-layer"></div>
<noscript><p class="warn" >æœ¬é¡µé¢éœ€è¦æµè§ˆå™¨æ”¯æŒï¼ˆå¯ç”¨ï¼‰JavaScript</p></noscript><div class="header"><div class="logo_title"><div class="title animated fadeInDown"><a href="https://chenjie04.github.io"><img alt="logo" style="display:inline-block;" src="https://chenjie04.github.io/images/avatar.png"/></a><h1 title="chenjie04&#39;s blog" class="weaklink"><a  href="/">chenjie04&#39;s blog</a></h1>

<div class="navbar weaklink">
<div class="normal_nav">
<div class="bitcron_nav_container"><div class="bitcron_nav"><div class="bitcron_nav"><div style="display:flex;justify-content:center;"><nav class="mixed_site_nav_wrap site_nav_wrap"><ul class="mixed_site_nav site_nav sm sm-base">	<li><a id="d2ef19af68cc211e98f8a0242ac110003" href="/" class="selected active current nav__item" >é¦–é¡µ</a></li><li><a id="d2ef19af68cc211e98f8a0242ac110003" href="/archives" class="selected active current nav__item" >å½’æ¡£</a></li><li><a id="d2ef19af68cc211e98f8a0242ac110003" href="/tags" class="selected active current nav__item" >æ ‡ç­¾</a></li><li><a id="d2ef19af68cc211e98f8a0242ac110003" href="/post/about" class="selected active current nav__item" >å…³äº</a></li></ul></nav>
<div style="float:right;margin-top:1em"><form id="gridea-search-form" data-update="1578893743252" action="/search/index.html"><input class="search-input" autocomplete="off" spellcheck="false" name="q" placeholder="Search..."></form></div><div style="margin-left:0.5em;margin-top:1.2em"><input id="switch_default" onclick="mobileBtn()" type="checkbox" class="switch_default"><label for="switch_default" class="toggleBtn"></label></div></div>
<div class="clear clear_nav_inline_end"></div></div></div><div class="clear clear_nav_end"></div></div></div><div class="hamberger" href="javascript:void(0)" onclick="btn_toggle();"><i class="iconfont icon-category"></i></div></div></div></div>
<div id="hn" class="no-js hidden_nav animated fadeInDown"><div class="bitcron_nav_container"><div class="bitcron_nav"><nav class="mixed_site_nav_wrap site_nav_wrap"><ul class="mixed_site_nav site_nav sm sm-base">	<li><a id="d2ef19af68cc211e98f8a0242ac110003" href="/" class="selected active current nav__item" >é¦–é¡µ</a></li><li><a id="d2ef19af68cc211e98f8a0242ac110003" href="/archives" class="selected active current nav__item" >å½’æ¡£</a></li><li><a id="d2ef19af68cc211e98f8a0242ac110003" href="/tags" class="selected active current nav__item" >æ ‡ç­¾</a></li><li><a id="d2ef19af68cc211e98f8a0242ac110003" href="/post/about" class="selected active current nav__item" >å…³äº</a></li></ul><div class="clear clear_nav_inline_end"></div></nav></div><div class="clear clear_nav_end"></div></div>
<div style="display:flex;justify-content:center;inline-block;text-align:center;margin-top:7%"><div><form id="gridea-search-form" data-update="1690208408768" action="/search/index.html"><input class="search-input" autocomplete="off" spellcheck="false" name="q"  placeholder="Search..." /></form></div><div style="margin-left:0.5em"><input id="switch_default_h" onclick="mobileBtn()" type="checkbox" class="switch_default"><label for="switch_default" class="toggleBtn"></label></div></div>
</div></div>
<script>function enableDarkmode(){document.body.classList.add("darkmode"),document.getElementById("switch_default").checked=1,document.getElementById("switch_default_h").checked=1}function removeDarkmode(){document.body.classList.remove("darkmode"),document.getElementById("switch_default").checked=0,document.getElementById("switch_default_h").checked=0}function getCookie(a){var b,c=new RegExp("(^| )"+a+"=([^;]*)(;|$)");return(b=document.cookie.match(c))?unescape(b[2]):null}cookie=getCookie("darkmode"),"enable"==cookie&&enableDarkmode(),window.matchMedia("(prefers-color-scheme: dark)").matches&&"disable"!==cookie&&(enableDarkmode(),document.cookie="darkmode=enable; path=/");var mobileBtn=function(){1==document.getElementById("switch_default").checked?(enableDarkmode(),document.cookie="darkmode=enable; path=/"):(removeDarkmode(),document.cookie="darkmode=disable; path=/")};</script>

<div class="main"><div class="main-inner"><div class="content">
<article class="post">
<h2 class="post_title sm_margin"><a>ROS2å¼€å‘ç¬”è®°â€”â€”Topicæ ·ä¾‹ï¼ˆäºŒï¼‰</a></h2>
<script>function lan(){if(document.getElementById("lan").innerText=="ç¹"){var s=document.getElementById("tongwenlet_cn");if(s!=null){document.body.removeChild(s)}var s=document.createElement("script");s.language="javascript";s.type="text/javascript";s.src="https://cdn.jsdelivr.net/gh/qyxtim/Static@1.1/bookmarklet_tw.js";s.id="tongwenlet_cn";document.body.appendChild(s);document.getElementById("lan").innerHTML="ç®€"}else{if(document.getElementById("lan").innerText=="ç°¡"){var s=document.getElementById("tongwenlet_cn");if(s!=null){document.body.removeChild(s)}var s=document.createElement("script");s.language="javascript";s.type="text/javascript";s.src="https://cdn.jsdelivr.net/gh/qyxtim/Static@1.1/bookmarklet_cn.js";s.id="tongwenlet_cn";document.body.appendChild(s);document.getElementById("lan").innerHTML="ç¹"}}};</script>
<section class="post_details"><i class="iconfont icon-calendar"></i><span style="margin-right:15px"> 2023-05-16</span><i class="iconfont icon-browse"></i><span style="margin-right:15px"> <span id="busuanzi_value_page_pv"></span> Views</span><i class="iconfont icon-category"></i><span class="weaklink" style="margin-right:15px"></span><i class="iconfont icon-caret-down"></i><span style="margin-right:15px">2299å­—</span><i class="iconfont icon-naozhong"></i><span style="margin-right:15px">11 min read</span><a id="lan" href="javascript:void(0);"onclick="lan();"title="è°ƒæ•´ç®€ç¹ä½“" style="margin-right:15px;">ç¹</a>
</section>

<div style="display:flex">
<div class="md_block" id="md_block">
<div class="round-shape-one"></div>
<h1 id="ä¸€-æ–°å»ºå·¥ä½œç©ºé—´">ä¸€ã€æ–°å»ºå·¥ä½œç©ºé—´</h1>
<p>ROSé‡‡ç”¨å·¥ä½œç©ºé—´çš„æ¦‚å¿µï¼Œåœ¨å·¥ä½œç©ºé—´ç›®å½•ä¸‹ä¸€èˆ¬è®¾srcç›®å½•å­˜æ”¾æºä»£ç ã€‚ROSé‡‡ç”¨åŒ…çš„å½¢å¼ç®¡ç†é¡¹ç›®ï¼Œæ‰€æœ‰å·¥ä½œç©ºé—´srcç›®å½•ä¸‹ä¸€èˆ¬æœ‰å¤šä¸ªåŒ…ã€‚ROSå¯ä»¥é‡‡ç”¨pythonæˆ–C++è¿›è¡Œå¼€å‘ï¼Œä¹Ÿå¯ä»¥åŒæ—¶é‡‡ç”¨è¿™ä¸¤ç§è¯­è¨€æ··åˆå¼€å‘ï¼Œå› æ­¤ä¸€ä¸ªå…¸å‹ROSå·¥ä½œç©ºé—´å¦‚ä¸‹æ‰€ç¤ºï¼Œ</p>
<pre><code class="language-bash">workspace_folder/
    src/
      cpp_package_1/
          CMakeLists.txt
          include/cpp_package_1/
          package.xml
          src/

      py_package_1/
          package.xml
          resource/py_package_1
          setup.cfg
          setup.py
          py_package_1/
      ...
      cpp_package_n/
          CMakeLists.txt
          include/cpp_package_n/
          package.xml
          src/
</code></pre>
<p>ä¸‹é¢ï¼Œæˆ‘ä»¬æ–°å»ºè‡ªå·±çš„å·¥ä½œç©ºé—´ï¼Œ</p>
<pre><code class="language-bash">$ mkdir -p ~/ros2_ws/src
$ cd  ~/ros2_ws/src
</code></pre>
<h1 id="äºŒ-æ–°å»ºåŒ…">äºŒã€æ–°å»ºåŒ…</h1>
<p>ROS æä¾›äº†å·¥å…·å¸®åŠ©æˆ‘ä»¬æŒ‰ç…§æ¨¡æ¿æ–°å»ºåŒ…ï¼Œ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>&lt;</mo><mi>b</mi><mi>u</mi><mi>i</mi><mi>l</mi><mi>d</mi><mo>âˆ’</mo><mi>t</mi><mi>y</mi><mi>p</mi><mi>e</mi><mo>&gt;</mo></mrow><annotation encoding="application/x-tex">&lt;build-type&gt;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">b</span><span class="mord mathdefault">u</span><span class="mord mathdefault">i</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">d</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.80952em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">t</span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mord mathdefault">p</span><span class="mord mathdefault">e</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span></span></span></span> æŒ‡å®šäº†ç¼–è¯‘ç±»å‹ï¼Œä¹Ÿå°±æ˜¯æŒ‡å®šäº†æˆ‘ä»¬ä½¿ç”¨ä»€ä¹ˆè¯­è¨€è¿›è¡Œå¼€å‘ï¼Œä½¿ç”¨C++åˆ™<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>&lt;</mo><mi>b</mi><mi>u</mi><mi>i</mi><mi>l</mi><mi>d</mi><mo>âˆ’</mo><mi>t</mi><mi>y</mi><mi>p</mi><mi>e</mi><mo>&gt;</mo></mrow><annotation encoding="application/x-tex">&lt;build-type&gt;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">b</span><span class="mord mathdefault">u</span><span class="mord mathdefault">i</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">d</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.80952em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">t</span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mord mathdefault">p</span><span class="mord mathdefault">e</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span></span></span></span>ä¸º ament_cmakeï¼Œ è€Œä½¿ç”¨pythonåˆ™æ˜¯ament_pythonã€‚<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>&lt;</mo><mi>p</mi><mi>a</mi><mi>c</mi><mi>k</mi><mi>a</mi><mi>g</mi><msub><mi>e</mi><mi>n</mi></msub><mi>a</mi><mi>m</mi><mi>e</mi><mo>&gt;</mo></mrow><annotation encoding="application/x-tex">&lt;package_name&gt;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">p</span><span class="mord mathdefault">a</span><span class="mord mathdefault">c</span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault">a</span><span class="mord mathdefault">m</span><span class="mord mathdefault">e</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span></span></span></span>æ˜¯æˆ‘ä»¬çš„åŒ…åå­—ã€‚</p>
<pre><code class="language-bash">ros2 pkg create --build-type &lt;build-type&gt; &lt;package_name&gt;
</code></pre>
<p>ä¸‹é¢ï¼Œæˆ‘ä»¬æ–°å»ºä¸€ä¸ªpy_pubsubåŒ…ï¼Œå­¦ä¹ ä½¿ç”¨pythonè¿›è¡ŒROSä¸»é¢˜é€šä¿¡çš„å¼€å‘ï¼Œ</p>
<pre><code class="language-bash">$ ros2 pkg create --build-type ament_python py_pubsub
</code></pre>
<p>æˆ‘ä»¬çœ‹ä¸€ä¸‹æ–°å»ºçš„py_pubsubçš„ç›®å½•ç»“æ„ï¼Œ</p>
<pre><code class="language-bash">py_pubsub/
      py_pubsub/
      resource/py_pubsub
      test/
      package.xml
      setup.cfg
      setup.py
</code></pre>
<h2 id="21-packagexml">2.1ã€package.xml</h2>
<p>é¦–å…ˆï¼ŒæŸ¥çœ‹ç¬¬ä¸€ä¸ªpackage.xmlæ–‡ä»¶ï¼Œé¦–å…ˆå®ƒåŒ…å«äº†ä¸€äº›åŒ…çš„åå­—ã€ç‰ˆæœ¬å·ã€æè¿°ä¿¡æ¯ã€è®¸å¯ä»¥åŠç»´æŠ¤è€…çš„ä¿¡æ¯ã€‚æ›´é‡è¦çš„æ˜¯package.xmlæŒ‡å®šäº†è¿™ä¸ªåŒ…çš„ä¾èµ–ï¼Œæ–¹ä¾¿ç¼–è¯‘å™¨åœ¨ç¼–è¯‘çš„æ—¶å€™èƒ½å¤Ÿæ‰¾åˆ°å¯¹åº”çš„ä¾èµ–ã€‚ä¾èµ–ä»¥_dependç»“å°¾çš„æ ‡ç­¾æŒ‡å®šï¼Œ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>&lt;</mo><mi>t</mi><mi>e</mi><mi>s</mi><msub><mi>t</mi><mi>d</mi></msub><mi>e</mi><mi>p</mi><mi>e</mi><mi>n</mi><mi>d</mi><mo>&gt;</mo></mrow><annotation encoding="application/x-tex">&lt;test_depend&gt;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">t</span><span class="mord mathdefault">e</span><span class="mord mathdefault">s</span><span class="mord"><span class="mord mathdefault">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">d</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault">e</span><span class="mord mathdefault">p</span><span class="mord mathdefault">e</span><span class="mord mathdefault">n</span><span class="mord mathdefault">d</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span></span></span></span>é¡¾åæ€ä¹‰æ˜¯æµ‹è¯•æ—¶ç”¨åˆ°çš„ä¾èµ–ï¼Œè¿˜æœ‰<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>&lt;</mo><mi>b</mi><mi>u</mi><mi>i</mi><mi>l</mi><msub><mi>d</mi><mi>d</mi></msub><mi>e</mi><mi>p</mi><mi>e</mi><mi>n</mi><mi>d</mi><mo>&gt;</mo></mrow><annotation encoding="application/x-tex">&lt;build_depend&gt;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">b</span><span class="mord mathdefault">u</span><span class="mord mathdefault">i</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord"><span class="mord mathdefault">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">d</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault">e</span><span class="mord mathdefault">p</span><span class="mord mathdefault">e</span><span class="mord mathdefault">n</span><span class="mord mathdefault">d</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span></span></span></span>ç¼–è¯‘ä¾èµ–ï¼Œ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>&lt;</mo><mi>e</mi><mi>x</mi><mi>e</mi><msub><mi>c</mi><mi>d</mi></msub><mi>e</mi><mi>p</mi><mi>e</mi><mi>n</mi><mi>d</mi><mo>&gt;</mo></mrow><annotation encoding="application/x-tex">&lt;exec_depend&gt;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">e</span><span class="mord mathdefault">x</span><span class="mord mathdefault">e</span><span class="mord"><span class="mord mathdefault">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">d</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault">e</span><span class="mord mathdefault">p</span><span class="mord mathdefault">e</span><span class="mord mathdefault">n</span><span class="mord mathdefault">d</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span></span></span></span>æ‰§è¡Œä¾èµ–ï¼Œä»¥åŠ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>&lt;</mo><mi>b</mi><mi>u</mi><mi>i</mi><mi>l</mi><msub><mi>d</mi><mi>e</mi></msub><mi>x</mi><mi>p</mi><mi>o</mi><mi>r</mi><msub><mi>t</mi><mi>d</mi></msub><mi>e</mi><mi>p</mi><mi>e</mi><mi>n</mi><mi>d</mi><mo>&gt;</mo></mrow><annotation encoding="application/x-tex">&lt;build_export_depend&gt;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">b</span><span class="mord mathdefault">u</span><span class="mord mathdefault">i</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord"><span class="mord mathdefault">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">e</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault">x</span><span class="mord mathdefault">p</span><span class="mord mathdefault">o</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord"><span class="mord mathdefault">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">d</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault">e</span><span class="mord mathdefault">p</span><span class="mord mathdefault">e</span><span class="mord mathdefault">n</span><span class="mord mathdefault">d</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span></span></span></span>å¯¼å‡ºä¾èµ–ç­‰ã€‚</p>
<pre><code class="language-xml">&lt;?xml version=&quot;1.0&quot;?&gt;
&lt;?xml-model
   href=&quot;http://download.ros.org/schema/package_format3.xsd&quot;
   schematypens=&quot;http://www.w3.org/2001/XMLSchema&quot;?&gt;
&lt;package format=&quot;3&quot;&gt;
 &lt;name&gt;py_pubsub&lt;/name&gt;
 &lt;version&gt;0.0.0&lt;/version&gt;
 &lt;description&gt;TODO: Package description&lt;/description&gt;
 &lt;maintainer email=&quot;user@todo.todo&quot;&gt;user&lt;/maintainer&gt;
 &lt;license&gt;TODO: License declaration&lt;/license&gt;

 &lt;test_depend&gt;ament_copyright&lt;/test_depend&gt;
 &lt;test_depend&gt;ament_flake8&lt;/test_depend&gt;
 &lt;test_depend&gt;ament_pep257&lt;/test_depend&gt;
 &lt;test_depend&gt;python3-pytest&lt;/test_depend&gt;

 &lt;export&gt;
   &lt;build_type&gt;ament_python&lt;/build_type&gt;
 &lt;/export&gt;
&lt;/package&gt;
</code></pre>
<p>åŠ å…¥æˆ‘ä»¬é¡¹ç›®ä¸­éœ€è¦ç”¨åˆ°ä¸€ä¸ªåŒ…ï¼Œä½†æ˜¯æˆ‘ä»¬ç³»ç»Ÿä¸Šæ²¡æœ‰ï¼Œé‚£ä¹ˆç¼–è¯‘çš„æ—¶å€™å¿…ç„¶ä¼šæŠ¥é”™ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ€ä¹ˆå®‰è£…è¿™äº›å¤–éƒ¨ä¾èµ–åŒ…å‘¢ï¼Ÿè¿™éœ€è¦ç”¨åˆ°rosdepè¿™ä¸ªå·¥å…·ã€‚ä½¿ç”¨rosdepä¹‹å‰ï¼Œéœ€è¦å…ˆå¯¹å®ƒè¿›è¡Œåˆå§‹åŒ–å¹¶æ›´æ–°ï¼Œ</p>
<pre><code class="language-bash">$ sudo rosdep init
$ rosdep update
</code></pre>
<p>ä½†æ˜¯sudo rosdep initéœ€è¦ä»GitHubä¸‹è½½æ•°æ®ï¼Œç”±äºå›½å†…çš„åŸå› ï¼Œè¿è¡Œè¿™ä¸ªå‘½ä»¤å¿…ç„¶ä¼šå¤±è´¥ã€‚è¿™æˆä¸ºäº†æ¯ä¸ªå­¦ä¹ rosçš„äººå¿…ç„¶è¦é¢å¯¹çš„ä¸€ä¸ªé—®é¢˜ã€‚å›½æƒ…åŸå› æˆ‘ç†è§£ï¼Œåªæ˜¯ä¸çŸ¥é“ä¸ºä»€ä¹ˆå›½å†…rosç¤¾åŒºæ²¡æœ‰å»ç»´æŠ¤ä¸€ä¸ªå›½å†…ç‰ˆæœ¬ï¼Œå¯èƒ½æ˜¯è®¸å¯çš„åŸå› å§ï¼Œä»¥è‡´å¤§å®¶éœ€è¦ä½¿ç”¨ä¸€äº›é‚ªé­”å¤–é“çš„æ‰‹æ®µæ‰å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p>
<p>ä¸è¿‡ï¼Œç°åœ¨åšä¸»é±¼é¦™ROSï¼Œè‡ªå·±ç»´æŠ¤äº†å›½å†…ç‰ˆ<a href="https://zhuanlan.zhihu.com/p/398754989">rosdepc</a>ï¼Œç®—æ˜¯è§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼Œrosdepcçš„å®‰è£…ä¸ä½¿ç”¨</p>
<pre><code class="language-bash">$ pip install rosdepc
$ rosdepc init
$ rosdepc update
</code></pre>
<p>æ£€æŸ¥å¹¶å®‰è£…ä¾èµ–ï¼Œ</p>
<pre><code class="language-bash">rosdepc install --from-paths src -y --ignore-src
</code></pre>
<p>--from-paths src è¡¨ç¤ºæ£€æŸ¥srcç›®å½•ä¸‹çš„package.xmlä¸­çš„ä¾èµ–ï¼Œ-yå°±æ˜¯é»˜è®¤yesï¼Œ--ignore-srcè¡¨ç¤ºåŠ å…¥package.xmlä¸­æŒ‡å®šçš„æŸä¸ªä¾èµ–æ˜¯å½“å‰å·¥ä½œç©ºé—´ä¸­çš„å°±å¿½ç•¥ï¼Œå› ä¸ºç¼–è¯‘ä¹‹åå¿…ç„¶ä¼šå®‰è£…ã€‚</p>
<h2 id="22-setuppy">2.2ã€setup.py</h2>
<p>setup.pyæ˜¯pythonåŒ…çš„å®‰è£…æŒ‡ä»¤æ–‡ä»¶ï¼ŒæŒ‡å®šäº†æ€ä¹ˆå®‰è£…è¿™ä¸ªåŒ…ï¼ŒåŒæ ·ä¹ŸåŒ…å«è¯¥åŒ…çš„ä¸€äº›ç›¸å…³ä¿¡æ¯ï¼Œæˆ‘ä»¬éœ€è¦æ³¨æ„çš„æ˜¯æ‰§è¡Œç¨‹åºå…¥å£entry_pointsï¼Œç¤ºä¾‹ä¸­å®šä¹‰äº†ä¸€ä¸ªæ‰§è¡Œç¨‹åºå…¥å£ä¸ºmy_nodeï¼Œè¯¥å…¥å£æŒ‡å‘my_py_pkg.my_node:mainå‡½æ•°ï¼Œåé¢å†™ä»£ç çš„æ—¶å€™ä¼šæœ‰å…·ä½“ç¤ºä¾‹ã€‚</p>
<pre><code class="language-python">from setuptools import setup

package_name = 'py_pubsub'

setup(
 name=package_name,
 version='0.0.0',
 packages=[package_name],
 data_files=[
     ('share/ament_index/resource_index/packages',
             ['resource/' + package_name]),
     ('share/' + package_name, ['package.xml']),
   ],
 install_requires=['setuptools'],
 zip_safe=True,
 maintainer='TODO',
 maintainer_email='TODO',
 description='TODO: Package description',
 license='TODO: License declaration',
 tests_require=['pytest'],
 entry_points={
     'console_scripts': [
            # 'my_node = my_py_pkg.my_node:main'
     ],
   },
)
</code></pre>
<h2 id="23-setupcfg">2.3ã€setup.cfg</h2>
<p>setup.cfgæ˜¯ä¸ºäº†æ‰§è¡Œros2 runå‘½ä»¤æ—¶èƒ½å¤Ÿæ‰¾åˆ°å¯¹åº”çš„å¯æ‰§è¡Œç¨‹åºï¼Œ</p>
<pre><code class="language-cfg">[develop]
script_dir=$base/lib/py_pubsub
[install]
install_scripts=$base/lib/py_pubsub

</code></pre>
<h2 id="24-å…¶ä»–">2.4ã€å…¶ä»–</h2>
<p>å‰©ä¸‹çš„æ˜¯ä¸‰ä¸ªç›®å½•ï¼Œä¸€ä¸ªæ˜¯è·ŸåŒ…åŒåçš„ç›®å½•ï¼Œç”¨äºå­˜æ”¾æˆ‘ä»¬çš„æºä»£ç æ–‡ä»¶ï¼Œè¯¥ç›®å½•ä¸‹è¿˜æœ‰__init__.pyæ–‡ä»¶ã€‚å¦å¤–ä¸€ä¸ªæ˜¯resourceç›®å½•ï¼Œåº•ä¸‹ä¹Ÿæ˜¯è·ŸåŒ…åŒåçš„ç›®å½•ï¼Œç”¨äºå­˜æ”¾ç›¸å…³èµ„æºæ–‡ä»¶ï¼Œæ¯”å¦‚å›¾ç‰‡å•¥çš„ã€‚æœ€åå°±æ˜¯è‡ªåŠ¨çš„æµ‹è¯•è„šæœ¬äº†ï¼Œæš‚æ—¶ä¸ç”¨ç®¡ã€‚</p>
<h1 id="ä¸‰-ç¼–å†™publisherèŠ‚ç‚¹">ä¸‰ã€ç¼–å†™publisherèŠ‚ç‚¹</h1>
<p>åœ¨æºä»£ç çš„å­˜æ”¾ç›®å½•æ–°å»ºä¸€ä¸ªåä¸ºpublisher_member_function.pyçš„pythonæ–‡ä»¶ï¼ŒpublisherèŠ‚ç‚¹ç¤ºä¾‹å¦‚ä¸‹ï¼Œ</p>
<pre><code class="language-python">import rclpy # ROSæä¾›çš„pythonæ¥å£
from rclpy.node import Node  # åº”è¯¥æ˜¯ROSèŠ‚ç‚¹çš„çˆ¶ç±»äº†

from std_msgs.msg import String # ä»æ ‡å‡†ä¿¡æ¯ç±»å‹åº“ä¸­å¯¼å…¥å­—ç¬¦ä¸²ç±»å‹ï¼Œå…¶å®å°±æ˜¯æ•°æ®ç±»å‹


class MinimalPublisher(Node): # å®šä¹‰ç±»å¹¶ç»§æ‰¿Node

    def __init__(self):
        super().__init__('minimal_publisher')
        self.publisher_ = self.create_publisher(String, 'topic', 10) # åˆ›å»ºä¸€ä¸ªå‘å¸ƒè€…ï¼Œè¯¥å‘å¸ƒè€…åœ¨ä¸€ä¸ªåä¸º'topic'ï¼ˆå¯ä»¥å®šä¹‰ä¸ºå…¶ä»–åå­—ï¼‰çš„ä¸»é¢˜ä¸Šå‘å¸ƒä¸€ä¸ªStringç±»å‹çš„ä¿¡æ¯ï¼Œ10è¡¨ç¤ºç¼“å†²é˜Ÿåˆ—çš„å¤§å°ï¼Œé˜Ÿåˆ—å¤§å°æ˜¯ä¸€é¡¹å¿…éœ€çš„ QoSï¼ˆæœåŠ¡è´¨é‡ï¼‰è®¾ç½®ï¼Œå¦‚æœè®¢é˜…è€…æ¥æ”¶æ¶ˆæ¯çš„é€Ÿåº¦ä¸å¤Ÿå¿«ï¼Œå®ƒä¼šé™åˆ¶æ’é˜Ÿæ¶ˆæ¯çš„æ•°é‡ã€‚
        timer_period = 0.5  # seconds
        self.timer = self.create_timer(timer_period, self.timer_callback) # åˆ›å»ºä¸€ä¸ªè®¡æ—¶å™¨ï¼Œè¯¥è®¡æ—¶å™¨æŒ‰ä¸€å®šæ—¶é—´é—´éš”ï¼ˆ0.5ç§’ï¼‰è°ƒç”¨å›è°ƒå‡½æ•°self.timer_callback
        self.i = 0

    def timer_callback(self): # å›è°ƒå‡½æ•°ï¼Œæ„é€ å¹¶å‘å¸ƒä¿¡æ¯
        msg = String()
        msg.data = 'Hello World: %d' % self.i
        self.publisher_.publish(msg) # å‘å¸ƒä¿¡æ¯ï¼ˆè¿™æ˜¯ç»™è®¢é˜…è€…å‘å¸ƒçš„ï¼‰
        self.get_logger().info('Publishing: &quot;%s&quot;' % msg.data) # åŒæ—¶è¿˜å‘å¸ƒåˆ°ç»ˆç«¯ console
        self.i += 1


def main(args=None):
    rclpy.init(args=args) # åˆå§‹åŒ–èŠ‚ç‚¹

    minimal_publisher = MinimalPublisher() # å®ä¾‹åŒ–å‘å¸ƒè€…èŠ‚ç‚¹

    rclpy.spin(minimal_publisher) # å¯åŠ¨å‘å¸ƒè€…èŠ‚ç‚¹

    # Destroy the node explicitly
    # (optional - otherwise it will be done automatically
    # when the garbage collector destroys the node object)
    minimal_publisher.destroy_node() # é”€æ¯å‘å¸ƒè€…èŠ‚ç‚¹
    rclpy.shutdown() # å…³é—­èŠ‚ç‚¹


if __name__ == '__main__':
    main()
</code></pre>
<p>å› ä¸ºæˆ‘ä»¬åœ¨å‘å¸ƒè€…èŠ‚ç‚¹ä¸­è°ƒç”¨äº†ä¸¤ä¸ªåº“ï¼šrclpyå’Œstd_msgsï¼Œè¿™ä¸¤ä¸ªåº“æ˜¯è¿è¡Œæ—¶éœ€è¦çš„ï¼Œæ•°æ®æ‰§è¡Œä¾èµ–ï¼Œæ‰€ä»¥æˆ‘ä»¬æ‰“å¼€è¿™ä¸ªåŒ…ä¸‹çš„package.xmlæ–‡ä»¶ï¼Œæ·»åŠ ä»¥ä¸‹ä¸¤è¡Œï¼Œ</p>
<pre><code class="language-xml">&lt;exec_depend&gt;rclpy&lt;/exec_depend&gt;
&lt;exec_depend&gt;std_msgs&lt;/exec_depend&gt;
</code></pre>
<p>ç„¶åï¼Œæˆ‘ä»¬éœ€è¦ä¸ºç¨‹åºè°ƒç”¨å®šä¹‰å…¥å£ï¼Œæ‰“å¼€setup.pyæ–‡ä»¶ï¼Œæ·»åŠ å¦‚ä¸‹ä»£ç ï¼Œ</p>
<pre><code class="language-python">entry_points={
        'console_scripts': [
                'talker = py_pubsub.publisher_member_function:main',
        ],
},
</code></pre>
<p>å…¶ä¸­ï¼Œtalkeræ˜¯è‡ªå®šä¹‰çš„åå­—ï¼Œè°ƒç”¨æ—¶å¦‚ä¸‹æ‰€ç¤ºï¼Œ</p>
<pre><code class="language-bash">$ ros2 run py_pubsub talker
</code></pre>
<h1 id="å››-ç¼–å†™subscriberèŠ‚ç‚¹">å››ã€ç¼–å†™subscriberèŠ‚ç‚¹</h1>
<p>è¯¥èŠ‚ç‚¹ç®€å•æ¥å—publisherå‘å¸ƒçš„ä¿¡æ¯å¹¶æ‰“å°åˆ°ç»ˆç«¯ï¼Œ</p>
<pre><code class="language-python">import rclpy
from rclpy.node import Node

from std_msgs.msg import String


class MinimalSubscriber(Node):

    def __init__(self):
        super().__init__('minimal_subscriber')
        self.subscription = self.create_subscription(
            String,
            'topic',
            self.listener_callback,
            10) # æ–°å»ºè®¢é˜…è€…ï¼Œæ¥æ”¶'topic'çš„æ•°æ®å¹¶è°ƒç”¨self.listener_callbackå‡½æ•°
        self.subscription  # prevent unused variable warning

    def listener_callback(self, msg):
        self.get_logger().info('I heard: &quot;%s&quot;' % msg.data) # æ‰“å°åˆ°ç»ˆç«¯


def main(args=None):
    rclpy.init(args=args)

    minimal_subscriber = MinimalSubscriber()

    rclpy.spin(minimal_subscriber)

    # Destroy the node explicitly
    # (optional - otherwise it will be done automatically
    # when the garbage collector destroys the node object)
    minimal_subscriber.destroy_node()
    rclpy.shutdown()


if __name__ == '__main__':
    main()
</code></pre>
<p>ç”±äºå®ƒå’Œå‘å¸ƒè€…ç¨‹åºè°ƒç”¨çš„ä¾èµ–æ˜¯ä¸€æ ·çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸éœ€è¦å†ä¸€æ¬¡æ·»åŠ ä¾èµ–ï¼Œä½†æ˜¯éœ€è¦ç»™å®ƒæ·»åŠ æ‰§è¡Œå…¥å£ï¼Œæ‰“å¼€setup.pyï¼ŒæŒ‰å¦‚ä¸‹æ‰€ç¤ºæ·»åŠ ï¼Œ</p>
<pre><code class="language-python">entry_points={
        'console_scripts': [
                'talker = py_pubsub.publisher_member_function:main',
                'listener = py_pubsub.subscriber_member_function:main',
        ],
},
</code></pre>
<h1 id="äº”-ç¼–è¯‘ä¸è¿è¡Œ">äº”ã€ç¼–è¯‘ä¸è¿è¡Œ</h1>
<p>æŒ‰ç…§æƒ¯ä¾‹ï¼Œç¼–è¯‘å‰æ£€æŸ¥ä¸€ä¸‹ä¾èµ–ï¼Œ</p>
<pre><code class="language-bash">$ rosdepc install -i --from-path src --rosdistro humble -y
</code></pre>
<p>rosdepcå¯ä»¥è‡ªå®šä¹‰å¾ˆå¤šå‚æ•°ï¼Œæˆ‘ä»¬çœ‹åˆ°å¤šå°‘å­¦å¤šå°‘ï¼Œè¿™é‡Œ--rosdistro humbleæ˜¯æŒ‡å®šROSç‰ˆæœ¬ï¼Œä¸æŒ‡å®šä¹Ÿè¡Œï¼Œè¿™æ˜¯å¤šç‰ˆæœ¬æ··åˆå¼€å‘æ‰éœ€è¦çš„ã€‚</p>
<p>ROS2é‡‡ç”¨çš„ç¼–è¯‘å™¨æ˜¯colconï¼Œå›åˆ°å·¥ä½œç©ºé—´çš„æ ¹ç›®å½•ros2_wsï¼Œæ‰§è¡Œç¼–è¯‘ï¼Œ</p>
<pre><code class="language-bash">$ colcon build --packages-select py_pubsub
</code></pre>
<p>--packages-select py_pubsubæ˜¯æŒ‡å®šåªç¼–è¯‘py_pubsubï¼Œå¦‚æœä¸æŒ‡å®šï¼Œç›´æ¥æ‰§è¡Œcolcon buildä¼šç¼–è¯‘æ•´ä¸ªå·¥ä½œç©ºé—´ä¸­æ‰€æœ‰çš„åŒ…ã€‚</p>
<p>ç¼–è¯‘ä¹‹åï¼Œæˆ‘ä»¬ä¼šå‘ç°å·¥ä½œç©ºé—´ä¸­å¤šäº†ä¸‰ä¸ªç›®å½•ï¼Œbuild/ç”¨äºå­˜æ”¾ç¼–è¯‘è¿‡ç¨‹çš„ä¸­é—´æ–‡ä»¶ï¼Œinstall/å°±æ˜¯å®‰è£…ç›®å½•ï¼Œå°±æ˜¯æˆ‘ä»¬æŠŠåˆšæ‰çš„py_pubsubåŒ…å®‰è£…åˆ°è¿™é‡Œäº†ï¼Œlog/é¡¾åæ€ä¹‰æ—¥å¿—æ–‡ä»¶ã€‚</p>
<pre><code class="language-bash">ros2_ws/
    build/
    install/
    log/
    src/
</code></pre>
<p>æˆ‘ä»¬è¦ä½¿ç”¨åˆšç¼–è¯‘çš„py_pubsubï¼Œè¿˜éœ€è¦æ‰§è¡Œä»¥ä¸‹ä»¥ä¸‹å‘½ä»¤æ¥é…ç½®ç¯å¢ƒå˜é‡ï¼Œ</p>
<pre><code class="language-bash">$ source install/setup.bash
</code></pre>
<p>è¿è¡Œå‘å¸ƒè€…èŠ‚ç‚¹ï¼Œ</p>
<pre><code class="language-bash">$ ros2 run py_pubsub talker
[INFO] [minimal_publisher]: Publishing: &quot;Hello World: 0&quot;
[INFO] [minimal_publisher]: Publishing: &quot;Hello World: 1&quot;
[INFO] [minimal_publisher]: Publishing: &quot;Hello World: 2&quot;
[INFO] [minimal_publisher]: Publishing: &quot;Hello World: 3&quot;
[INFO] [minimal_publisher]: Publishing: &quot;Hello World: 4&quot;
...
</code></pre>
<p>è¿è¡Œè®¢é˜…è€…èŠ‚ç‚¹ï¼Œ</p>
<pre><code class="language-bash">$ ros2 run py_pubsub listener
[INFO] [minimal_subscriber]: I heard: &quot;Hello World: 10&quot;
[INFO] [minimal_subscriber]: I heard: &quot;Hello World: 11&quot;
[INFO] [minimal_subscriber]: I heard: &quot;Hello World: 12&quot;
[INFO] [minimal_subscriber]: I heard: &quot;Hello World: 13&quot;
[INFO] [minimal_subscriber]: I heard: &quot;Hello World: 14&quot;
</code></pre>
<p>å¥½äº†ï¼è‡³æ­¤å…¥é—¨roså¼€å‘ç¬¬ä¸€è¯¾ç»“æŸäº†ï¼Œä»å¼€å‘ã€ç¼–è¯‘ã€è¿è¡Œæ•´ä¸ªæµç¨‹éƒ½èµ°äº†ä¸€éäº†ï¼Œä¸‹ä¸€æ­¥å­¦ä¹ æœåŠ¡é€šä¿¡çš„å¼€å‘ï¼</p>

<span id="footnote"></span>
<div id = "warn"></div>
</div>
<div class="toc-container"><ul class="markdownIt-TOC">
<li><a href="#%E4%B8%80-%E6%96%B0%E5%BB%BA%E5%B7%A5%E4%BD%9C%E7%A9%BA%E9%97%B4">ä¸€ã€æ–°å»ºå·¥ä½œç©ºé—´</a></li>
<li><a href="#%E4%BA%8C-%E6%96%B0%E5%BB%BA%E5%8C%85">äºŒã€æ–°å»ºåŒ…</a>
<ul>
<li><a href="#21-packagexml">2.1ã€package.xml</a></li>
<li><a href="#22-setuppy">2.2ã€setup.py</a></li>
<li><a href="#23-setupcfg">2.3ã€setup.cfg</a></li>
<li><a href="#24-%E5%85%B6%E4%BB%96">2.4ã€å…¶ä»–</a></li>
</ul>
</li>
<li><a href="#%E4%B8%89-%E7%BC%96%E5%86%99publisher%E8%8A%82%E7%82%B9">ä¸‰ã€ç¼–å†™publisherèŠ‚ç‚¹</a></li>
<li><a href="#%E5%9B%9B-%E7%BC%96%E5%86%99subscriber%E8%8A%82%E7%82%B9">å››ã€ç¼–å†™subscriberèŠ‚ç‚¹</a></li>
<li><a href="#%E4%BA%94-%E7%BC%96%E8%AF%91%E4%B8%8E%E8%BF%90%E8%A1%8C">äº”ã€ç¼–è¯‘ä¸è¿è¡Œ</a></li>
</ul>
</div>
</div>
<div id="fullPage"><canvas id="canvas"></canvas></div>
</article>
<div id="eof"><span>EOF</span></div><div class="round-shape-one"></div>
<section>
<div class="doc_comments">

	  
		<div id="gitalk-container"></div>
		<script type="text/javascript" src="https://cdn.jsdelivr.net/gh/qyxtim/Static@3.8/gitalk.min.js"></script><link href="https://cdn.jsdelivr.net/npm/gitalk@1.5.0/dist/gitalk.css"rel="stylesheet"><script>var gitalk=new Gitalk({clientID:"e92872ae2da2976f32ca",clientSecret:"966ed19d803936e67d1eff80ec616cb4f6c2d57d",repo:"chenjie04.github.io",owner:"chenjie04",admin:["chenjie04"],id:(location.pathname).substring(0, 49),distractionFreeMode:false});gitalk.render("gitalk-container");</script>
	  
		  
	  

</div></section>
</div></div></div><script>
"use strict";!function(){for(var n=document.getElementsByTagName("pre"),e=n.length,s=0;s<e;s++){n[s].innerHTML='<span class="line-number"></span>'+n[s].innerHTML+'<span class="cl"></span>';for(var a=n[s].innerHTML.split(/\n/).length,r=0;r<a-1;r++){n[s].getElementsByTagName("span")[0].innerHTML+="<span>"+(r+1)+"</span>"}}}();
let mainNavLinks=document.querySelectorAll(".markdownIt-TOC a");window.addEventListener("scroll",event=>{let fromTop=window.scrollY;mainNavLinks.forEach((link,index)=>{let section=document.getElementById(decodeURI(link.hash).substring(1));let nextSection=null
if(mainNavLinks[index+1]){nextSection=document.getElementById(decodeURI(mainNavLinks[index+1].hash).substring(1));}
if(section.offsetTop<=fromTop){if(nextSection){if(nextSection.offsetTop>fromTop){link.classList.add("currentToc");}else{link.classList.remove("currentToc");}}else{link.classList.add("currentToc");}}else{link.classList.remove("currentToc");}});});
var h=document.documentElement,b=document.body,st="scrollTop",sh="scrollHeight",progress=document.querySelector(".progress"),scroll;document.addEventListener("scroll",function(){scroll=(h[st]||b[st])/((h[sh]||b[sh])-h.clientHeight)*100;progress.style.setProperty("--scroll",scroll+"%")});
var wxScale=new WxScale({fullPage:document.querySelector("#fullPage"),canvas:document.querySelector("#canvas")});var imgBox=document.querySelectorAll("#md_block img");for(var i=0;i<imgBox.length;i++){imgBox[i].onclick=function(e){wxScale.start(this)}};
</script>
<a id="scrollUp" href="#top" style="position: fixed; z-index: 2147483647; display: block;"></a><div class="footer animated fadeInDown"><div class="site_footer"><div class="mysocials"><div class="my_socials"></div></div><div class="copyright"id="copyright">Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a>Copyright Â© 2018-2020 <a href="https://chenjie04.github.io" style="margin:0;">chenjie04&#39;s blog</a>.</div>
<span style="display: inline;margin-right:15px;">ğŸ‘<strong><span id="busuanzi_value_site_uv"></span></strong></span><span id="busuanzi_container_page_pv" style="display: inline;"><span>ğŸ“š<strong>31</strong> posts</span></div></div>
<script>
console.log("\n %c \u26a1Theme: Bitcron-pro Author's Blog:https://blog.blinkstar.cn  Writen By Serence  \n\n", "color: #ffffff; background: rgba(49, 49, 49, 0.85); padding:5px 0;border-radius:5px;", );
</script>
<script src="https://cdn.jsdelivr.net/npm/instant.page@3.0.0/instantpage.min.js" type="module" defer></script>
<script type="text/javascript" async src="https://chenjie04.github.io/media/js/prism.js"></script>
</body>
</html>